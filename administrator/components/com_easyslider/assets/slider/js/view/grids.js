void function(e,t,n,r){e.ES_GridsView=B.View.extend({constructor:function(t){B.View.apply(this,arguments)},modelEvents:{change:"render"},initialize:function(){this.$el.append("<svg>")},render:function(){this.$svg=this.$("svg");if(!this.model.get("show"))return this.$svg.html("");var e=this.$el.width(),r=this.$el.height(),i=this.superView.model.get("layout.origin"),s=0,o=0,u=this.model.get("color"),a=parseInt(this.model.get("size")),f=a/parseInt(this.model.get("gutter")),l,c;this.$svg.css({width:e,height:r});var h=t("<div>");n([!1,!0]).each(function(n){var i=s;while(i>=0-a&&i<=e+a){n&&i==s||i>=0&&i<=e&&t('<text class="grid-number grid-number-top">').text(n?-(s-i):i-s).attr({y:-10,x:i===0?0:i,fill:u}).appendTo(h),i>=0&&i<=e&&t('<line class="grid-line grid-line-horizontal">').appendTo(h).attr({x1:i,x2:i,y1:-5,y2:r}).css({stroke:u,opacity:i==1}),l=Math.round(i+f)+.5;while(l<i+a&&l<=(n?s:e))l>=0&&t('<line class="gutter-line gutter-line-horizontal">').appendTo(h).attr({x1:l,x2:l,y1:-5,y2:r}).css({stroke:u,strokeWidth:1,strokeDasharray:"",opacity:.5}),l+=f;n?i-=a:i+=a}}),n([!1,!0]).each(function(n){var i=o;while(i>=0-a&&i<=r+a){n&&i==o||i>0&&i<=r&&t('<text class="grid-number grid-number-left">').text(n?-(o-i):i-o).attr({x:-10,y:i,fill:u}).appendTo(h),i>=0&&i<=r&&t('<line class="grid-line grid-line-vertical">').appendTo(h).attr({x1:-5,y1:i,x2:e,y2:i}).css({stroke:u,opacity:i==1}),c=Math.round(i+f)+.5;while(c<i+a&&c<=(n?o:r))c>=0&&t('<line class="gutter-line gutter-line-vertical">').appendTo(h).attr({x1:-5,x2:e,y1:c,y2:c}).css({stroke:u,opacity:.5}),c+=f;n?i-=a:i+=a}}),this.$svg.html(h.html())}})}(this,jQuery,_,JSNES_Backbone);