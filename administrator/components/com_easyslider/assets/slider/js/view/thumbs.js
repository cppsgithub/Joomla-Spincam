void function(e,t,n,r){var i=e.ES_ThumbView=B.View.extend({constructor:function(){B.View.apply(this,arguments)},events:{mousedown:function(e){t("input:focus").blur(),this.model.set("active",!0),this.$el.addClass("selected"),this.rootView.deactivateGlobalItems(),this.defer(function(){this.showOptions(e)})},options:function(e){this.showOptions(e)}},modelEvents:{remove:"remove"},bindings:[{type:"class",attr:{selected:"active"}},{selector:".thumb-preview",type:"style",attr:{backgroundColor:"background.color",backgroundImage:"background.image.src",backgroundPosition:"background.position",backgroundSize:"background.size"},parse:function(e,t){switch(t){case"backgroundImage":return e?"url("+ES_App.getImageURL(e)+")":"";default:return e}}}],updateIndex:function(){this.model.set("index",this.$el.index())},showOptions:function(e){this.rootView.thumbMenu.inspect(this.model),this.rootView.thumbMenu.open({direction:"right",target:this.el})}}),s=e.ES_ThumbsView=B.CollectionView.extend({constructor:function(){this.debounceUpdateIndex=n.debounce(this.updateIndex),B.CollectionView.apply(this,arguments)},itemView:i,events:{mousedown:function(e){e.stopPropagation(),e.preventDefault(),this.hideOtherMenu()},mousewheel:function(e){this.rootView.thumbMenu._openned&&this.rootView.thumbMenu.open()},sort:"showSlideMenu",sortstart:"hideOtherMenu",sortstop:"showSlideMenu",sortupdate:function(){this.updateIndex(),this.$(".selected").trigger("options")}},ready:function(){this.listenTo(this.collection,"add",this.debounceUpdateIndex),this.listenTo(this.collection,"remove",this.debounceUpdateIndex),this.listenTo(this.collection,"reset",this.debounceUpdateIndex),this.$el.sortable({distance:10,placeholder:"es-thumb placeholder"})},updateIndex:function(){n(this.subViews).invoke("updateIndex")},showSlideMenu:function(){this.rootView.thumbMenu.open()},hideOtherMenu:function(){this.defer(function(){this.rootView.colorPicker.close(),this.rootView.itemInspector.close()})}})}(this,jQuery,_,JSNES_Backbone);