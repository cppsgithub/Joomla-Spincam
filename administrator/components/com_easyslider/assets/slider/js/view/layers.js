void function(e,t,n,r){var i=e.ES_LayerView=B.View.extend({constructor:function(){B.View.apply(this,arguments)},events:{mousedown:function(){this.model.set("selected",!0),n(this.model.collection.without(this.model)).invoke("set","selected",!1)},"focus input":function(e){!this.model.get("selected")&&n(this.model.collection.without(this.model)).invoke("set","selected",!1),this.model.set("selected",!0),e.stopPropagation()},"mousedown input":function(e){!this.model.get("selected")&&n(this.model.collection.without(this.model)).invoke("set","selected",!1),this.model.set("selected",!0),e.stopPropagation()}},modelEvents:{},bindings:[{type:"class",attr:{selected:"selected"}}],updateIndex:function(){this.model.set("index",this.model.collection.length-this.$el.index())},initialize:function(){if(typeof this.model.get("type")!="undefined"){var e="";switch(this.model.get("type")){case"item":e="fa fa-square-o";break;case"text":e="fa fa-font";break;case"image":e="fa fa-image";break;case"video":e="fa fa-film"}this.$(".item-type").addClass(e)}this.listenTo(this.model,"remove",this.remove)}}),s=e.ES_LayersView=B.CollectionView.extend({constructor:function(){B.CollectionView.apply(this,arguments)},_reverseOrder:!0,itemView:i,events:{sortupdate:"updateIndex",scroll:function(e){this.rootView.framesView.el.scrollTop=this.el.scrollTop}},initialize:function(){this.$el.sortable({distance:10,handle:".layer-drag-handle",revert:100})},updateIndex:function(){n(this.subViews).invoke("updateIndex"),this.collection.sort()}})}(this,jQuery,_,JSNES_Backbone);